<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>STA 240 Spring 2025 - Lab 4</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../labs/lab-5.html" rel="next">
<link href="../exams/midterm-1.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
<meta property="og:title" content="STA 240 Spring 2025 - Lab 4">
<meta property="og:description" content="Due Thursday February 27 at 11:59 PM">
<meta property="og:site_name" content="STA 240 Spring 2025">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../labs/lab-1.html">Labs</a></li><li class="breadcrumb-item"><a href="../labs/lab-4.html">Lab 4</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../img/logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none"></a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
 <span class="menu-text">Syllabus</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/syllabus_overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/syllabus_team.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching team</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/syllabus_materials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Materials</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/syllabus_assignments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Assignments and grading</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/syllabus_policies.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Policies</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/syllabus_resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">University resources</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Problem Sets</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psets/pset_0.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 0</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psets/pset_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psets/pset_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psets/pset_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psets/pset_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 4</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../psets/pset_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem Set 5</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Labs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/lab-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/lab-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/lab-3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../exams/midterm-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Midterm 1 Practice</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/lab-4.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Lab 4</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/lab-5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 5</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/lab-6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 6</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/lab-7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 7</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../labs/lab-8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 8</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#part-0-working-with-familiar-distributions-in-r" id="toc-part-0-working-with-familiar-distributions-in-r" class="nav-link active" data-scroll-target="#part-0-working-with-familiar-distributions-in-r">Part 0: working with familiar distributions in <code>R</code></a>
  <ul class="collapse">
<li><a href="#p--functions-evaluating-the-cdf" id="toc-p--functions-evaluating-the-cdf" class="nav-link" data-scroll-target="#p--functions-evaluating-the-cdf"><code>p-</code> functions: evaluating the cdf</a></li>
  <li><a href="#r--functions-generating-random-numbers" id="toc-r--functions-generating-random-numbers" class="nav-link" data-scroll-target="#r--functions-generating-random-numbers"><code>r-</code> functions: generating random numbers</a></li>
  <li><a href="#d--functions-evaluating-the-pmfpdf" id="toc-d--functions-evaluating-the-pmfpdf" class="nav-link" data-scroll-target="#d--functions-evaluating-the-pmfpdf"><code>d-</code> functions: evaluating the pmf/pdf</a></li>
  <li><a href="#q--functions-evaluating-the-quantile-function" id="toc-q--functions-evaluating-the-quantile-function" class="nav-link" data-scroll-target="#q--functions-evaluating-the-quantile-function"><code>q-</code> functions: evaluating the quantile function</a></li>
  </ul>
</li>
  <li>
<a href="#part-1-now-you-try" id="toc-part-1-now-you-try" class="nav-link" data-scroll-target="#part-1-now-you-try">Part 1: now you try</a>
  <ul class="collapse">
<li><a href="#task-1" id="toc-task-1" class="nav-link" data-scroll-target="#task-1">Task 1</a></li>
  <li><a href="#task-2" id="toc-task-2" class="nav-link" data-scroll-target="#task-2">Task 2</a></li>
  <li><a href="#task-3" id="toc-task-3" class="nav-link" data-scroll-target="#task-3">Task 3</a></li>
  <li><a href="#task-4" id="toc-task-4" class="nav-link" data-scroll-target="#task-4">Task 4</a></li>
  <li><a href="#task-5" id="toc-task-5" class="nav-link" data-scroll-target="#task-5">Task 5</a></li>
  <li><a href="#task-6" id="toc-task-6" class="nav-link" data-scroll-target="#task-6">Task 6</a></li>
  <li><a href="#task-7" id="toc-task-7" class="nav-link" data-scroll-target="#task-7">Task 7</a></li>
  </ul>
</li>
  <li>
<a href="#part-2-modeling-insurance-claims" id="toc-part-2-modeling-insurance-claims" class="nav-link" data-scroll-target="#part-2-modeling-insurance-claims">Part 2: modeling insurance claims</a>
  <ul class="collapse">
<li>
<a href="#the-number-of-claims" id="toc-the-number-of-claims" class="nav-link" data-scroll-target="#the-number-of-claims">The number of claims</a>
  <ul class="collapse">
<li><a href="#task-8" id="toc-task-8" class="nav-link" data-scroll-target="#task-8">Task 8</a></li>
  <li><a href="#task-9" id="toc-task-9" class="nav-link" data-scroll-target="#task-9">Task 9</a></li>
  <li><a href="#task-10" id="toc-task-10" class="nav-link" data-scroll-target="#task-10">Task 10</a></li>
  </ul>
</li>
  <li>
<a href="#the-size-of-a-claim" id="toc-the-size-of-a-claim" class="nav-link" data-scroll-target="#the-size-of-a-claim">The size of a claim</a>
  <ul class="collapse">
<li><a href="#task-11" id="toc-task-11" class="nav-link" data-scroll-target="#task-11">Task 11</a></li>
  <li><a href="#task-12" id="toc-task-12" class="nav-link" data-scroll-target="#task-12">Task 12</a></li>
  <li><a href="#task-13" id="toc-task-13" class="nav-link" data-scroll-target="#task-13">Task 13</a></li>
  <li><a href="#task-14" id="toc-task-14" class="nav-link" data-scroll-target="#task-14">Task 14</a></li>
  </ul>
</li>
  <li>
<a href="#the-bottom-line" id="toc-the-bottom-line" class="nav-link" data-scroll-target="#the-bottom-line">The bottom line</a>
  <ul class="collapse">
<li><a href="#task-15" id="toc-task-15" class="nav-link" data-scroll-target="#task-15">Task 15</a></li>
  <li><a href="#task-16" id="toc-task-16" class="nav-link" data-scroll-target="#task-16">Task 16</a></li>
  <li><a href="#task-17" id="toc-task-17" class="nav-link" data-scroll-target="#task-17">Task 17</a></li>
  <li><a href="#task-18" id="toc-task-18" class="nav-link" data-scroll-target="#task-18">Task 18</a></li>
  </ul>
</li>
  </ul>
</li>
  <li>
<a href="#part-3-the-only-important-part" id="toc-part-3-the-only-important-part" class="nav-link" data-scroll-target="#part-3-the-only-important-part">Part 3: the only important part</a>
  <ul class="collapse">
<li><a href="#task-infty" id="toc-task-infty" class="nav-link" data-scroll-target="#task-infty">Task <span class="math inline">\(\infty\)</span></a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../labs/lab-1.html">Labs</a></li><li class="breadcrumb-item"><a href="../labs/lab-4.html">Lab 4</a></li></ol></nav><div class="quarto-title">
<h1 class="title">Lab 4</h1>
<p class="subtitle lead">Due Thursday February 27 at 11:59 PM</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="part-0-working-with-familiar-distributions-in-r" class="level1"><h1>Part 0: working with familiar distributions in <code>R</code>
</h1>
<p>Here are the famous, “named” families of probability distributions we have seen so far:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead><tr class="header">
<th>distribution</th>
<th>range</th>
<th>pmf/pdf</th>
<th>mean</th>
<th>variance</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(X\sim\text{Bern}(p)\)</span></td>
<td><span class="math inline">\(\{0,\,1\}\)</span></td>
<td><span class="math inline">\(p^x(1-p)^{1-x}\)</span></td>
<td><span class="math inline">\(p\)</span></td>
<td><span class="math inline">\(p(1-p)\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(X\sim\text{Binom}(n,\,p)\)</span></td>
<td><span class="math inline">\(\{0,\,1,\,2,\,...,\,n\}\)</span></td>
<td><span class="math inline">\(\binom{n}{x}p^x(1-p)^{n-x}\)</span></td>
<td><span class="math inline">\(np\)</span></td>
<td><span class="math inline">\(np(1-p)\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(X\sim\text{Geom}(p)\)</span></td>
<td><span class="math inline">\(\{1,\,2,\,3,\,...\}\)</span></td>
<td><span class="math inline">\((1-p)^{x-1}x\)</span></td>
<td><span class="math inline">\(1/p\)</span></td>
<td><span class="math inline">\(\frac{1-p}{p^2}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(X\sim\text{Pois}(\lambda)\)</span></td>
<td><span class="math inline">\(\mathbb{N}\)</span></td>
<td><span class="math inline">\(e^{-\lambda}\frac{\lambda^x}{x!}\)</span></td>
<td><span class="math inline">\(\lambda\)</span></td>
<td><span class="math inline">\(\lambda\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(X\sim\text{N}(\mu,\,\sigma^2)\)</span></td>
<td><span class="math inline">\(\mathbb{R}\)</span></td>
<td><span class="math inline">\(\frac{1}{\sqrt{2\pi\sigma^2}}\exp\left(-\frac{(x-\mu)^2}{2\sigma^2}\right)\)</span></td>
<td><span class="math inline">\(\mu\)</span></td>
<td><span class="math inline">\(\sigma^2\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(X\sim\text{Gamma}(\alpha,\,\beta)\)</span></td>
<td><span class="math inline">\((0,\,\infty)\)</span></td>
<td><span class="math inline">\(\frac{\beta^\alpha}{\Gamma(\alpha)}x^{\alpha-1}e^{-\beta x}\)</span></td>
<td><span class="math inline">\(\alpha/\beta\)</span></td>
<td><span class="math inline">\(\alpha/\beta^2\)</span></td>
</tr>
</tbody>
</table>
<p>For each distribution family, <code>R</code> provides four basic functions for working with it.</p>
<section id="p--functions-evaluating-the-cdf" class="level2"><h2 class="anchored" data-anchor-id="p--functions-evaluating-the-cdf">
<code>p-</code> functions: evaluating the cdf</h2>
<p>The cumulative distribution function (cdf) of a random variable <span class="math inline">\(X\)</span> is the function <span class="math inline">\(F:\mathbb{R}\to[0,\,1]\)</span> that returns <span class="math inline">\(F(x)=P(X\leq x)\)</span> for any <span class="math inline">\(x\in\mathbb{R}\)</span>. Every distribution family has a <code>p-</code> function that evaluates the cdf:</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># discrete </span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">pbinom</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">size</span>, <span class="va">prob</span><span class="op">)</span> <span class="co"># Bernoulli is just binomial with size = 1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Geometric.html">pgeom</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">prob</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">ppois</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">lambda</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># continuous</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">pnorm</a></span><span class="op">(</span><span class="va">x</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/GammaDist.html">pgamma</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">shape</span>, rate <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So if I call</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2.4</span>, <span class="fl">4</span>, <span class="fl">3</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.0164487</code></pre>
</div>
</div>
<p>it returns <span class="math inline">\(P(X\leq -2.4)\)</span> for <span class="math inline">\(X\sim\text{N}(4, 9)\)</span>. If I want <span class="math inline">\(P(-2.4 &lt; X &lt; 0.5)\)</span>, then I know that <span class="math inline">\(P(a&lt;X&lt;b)=F_X(b)-F_X(a)\)</span>, so I can call</p>
<div class="cell">
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">pnorm</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">4</span>, <span class="fl">3</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">pnorm</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2.4</span>, <span class="fl">4</span>, <span class="fl">3</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1052238</code></pre>
</div>
</div>
<p>Recall that for a continuous random variable, it doesn’t matter if I include the endpoints or not when calculating the probability of an interval, since <span class="math inline">\(P(X=c)=0\)</span> for any <span class="math inline">\(c\in\mathbb{R}\)</span>. But this is not the case for a discrete random variable, so you have to be careful. If <span class="math inline">\(Y\sim\text{Pois}(4)\)</span>, and I want <span class="math inline">\(P(2 &lt; Y &lt; 5)\)</span>, it would not be correct to compute <span class="math inline">\(F_Y(5) - F_Y(2)\)</span>, because that will include <span class="math inline">\(P(Y=5)&gt;0\)</span>. The event <span class="math inline">\(2 &lt; Y &lt; 5\)</span> is equivalent to <span class="math inline">\(2 &lt; Y \leq 4\)</span>, and now I can compute:</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">ppois</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">ppois</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3907336</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The normal commands take the standard deviation, not the variance!
</div>
</div>
<div class="callout-body-container callout-body">
<p>You will get burned by this at least once. I guarantee it. But please take note. When I wanted <span class="math inline">\(P(X\leq -2.4)\)</span> for <span class="math inline">\(X\sim\text{N}(4, 9)\)</span>, I called <code>pnorm(-2.4, 4, 3)</code>, because <span class="math inline">\(\text{sd}(X)=\sqrt{\text{var}(X)}=3\)</span>.</p>
</div>
</div>
</section><section id="r--functions-generating-random-numbers" class="level2"><h2 class="anchored" data-anchor-id="r--functions-generating-random-numbers">
<code>r-</code> functions: generating random numbers</h2>
<p>These commands generate <code>n</code> random numbers that behave according to the distribution you specify:</p>
<div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># discrete </span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">rbinom</a></span><span class="op">(</span><span class="va">n</span>, <span class="va">size</span>, <span class="va">prob</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Geometric.html">rgeom</a></span><span class="op">(</span><span class="va">n</span>, <span class="va">prob</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">rpois</a></span><span class="op">(</span><span class="va">n</span>, <span class="va">lambda</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># continuous</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="va">n</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/GammaDist.html">rgamma</a></span><span class="op">(</span><span class="va">n</span>, <span class="va">shape</span>, rate <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For example:</p>
<div class="cell">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">5</span>, mean <span class="op">=</span> <span class="fl">4</span>, sd <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2.1613071  6.6467256 -0.6438999  3.6999242  2.4109673</code></pre>
</div>
</div>
</section><section id="d--functions-evaluating-the-pmfpdf" class="level2"><h2 class="anchored" data-anchor-id="d--functions-evaluating-the-pmfpdf">
<code>d-</code> functions: evaluating the pmf/pdf</h2>
<p>For both discrete and (absolutely) continuous distributions, R uses the same syntax for evaluating the pmf/pdf:</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># discrete </span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">dbinom</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">size</span>, <span class="va">prob</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Geometric.html">dgeom</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">prob</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">dpois</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">lambda</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># continuous</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">dnorm</a></span><span class="op">(</span><span class="va">x</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/GammaDist.html">dgamma</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">shape</span>, rate <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is understandable but slightly unfortunate, because we know that the pmf is a function that returns probabilities when evaluated. The pdf is not. But anyway, if you want <span class="math inline">\(P(X=5)\)</span> for <span class="math inline">\(X\sim\text{Binom}(10, 0.3)\)</span>, here you go:</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">dbinom</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">0.3</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1029193</code></pre>
</div>
</div>
<p>Do you understand what this command did?</p>
<div class="cell">
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">dbinom</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0.7</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3</code></pre>
</div>
</div>
</section><section id="q--functions-evaluating-the-quantile-function" class="level2"><h2 class="anchored" data-anchor-id="q--functions-evaluating-the-quantile-function">
<code>q-</code> functions: evaluating the quantile function</h2>
<p>We will not work with this today, but for completeness, the <strong>quantile function</strong> of a random variable is the (<em>generalized</em>) <em>inverse</em> of its cdf. So <span class="math inline">\(F^{-1}\)</span>. It is the function that, given a probability <span class="math inline">\(\alpha\in(0,\,1)\)</span>, returns the cut-off point on the number line that has that much probability <em>to the left</em>. So the <span class="math inline">\(\alpha\)</span>th quantile <span class="math inline">\(q_{\alpha}\)</span> satisfies <span class="math inline">\(P(X\leq q_\alpha) = \alpha\)</span>. Here is the picture:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="quantile.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>The <strong>median</strong> is the <span class="math inline">\(\alpha=0.5\)</span> quantile. The quantiles of the standard normal distribution are famous:</p>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">qnorm</a></span><span class="op">(</span><span class="fl">0.95</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.644854</code></pre>
</div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">qnorm</a></span><span class="op">(</span><span class="fl">0.975</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.959964</code></pre>
</div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">qnorm</a></span><span class="op">(</span><span class="fl">0.995</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.575829</code></pre>
</div>
</div>
<p>Every distribution family has a <code>q-</code> function that, given <span class="math inline">\(p\in(0,\,1)\)</span>, returns <span class="math inline">\(q_p\)</span>:</p>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># discrete </span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html">qbinom</a></span><span class="op">(</span><span class="va">p</span>, <span class="va">size</span>, <span class="va">prob</span><span class="op">)</span> <span class="co"># Bernoulli is just binomial with size = 1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Geometric.html">qgeom</a></span><span class="op">(</span><span class="va">p</span>, <span class="va">prob</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html">qpois</a></span><span class="op">(</span><span class="va">p</span>, <span class="va">lambda</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># continuous</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">qnorm</a></span><span class="op">(</span><span class="va">p</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/GammaDist.html">qgamma</a></span><span class="op">(</span><span class="va">p</span>, <span class="va">shape</span>, rate <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This is easier to understand for a random variable whose cdf is smooth and one-to-one. For discrete random variables, the behavior of the <code>q-</code> function is a bit subtle, and we’ll get into it later.</p>
</section></section><section id="part-1-now-you-try" class="level1"><h1>Part 1: now you try</h1>
<section id="task-1" class="level3"><h3 class="anchored" data-anchor-id="task-1">Task 1</h3>
<p>Use only the appropriate <code>p-</code> function to compute <span class="math inline">\(P(X &gt; 7)\)</span> for <span class="math inline">\(X\sim\text{Geom}(0.5)\)</span>.</p>
</section><section id="task-2" class="level3"><h3 class="anchored" data-anchor-id="task-2">Task 2</h3>
<p>Use only the appropriate <code>p-</code> function to compute <span class="math inline">\(P(3 \leq X &lt; 6)\)</span> for <span class="math inline">\(X\sim\text{Geom}(0.5)\)</span>.</p>
</section><section id="task-3" class="level3"><h3 class="anchored" data-anchor-id="task-3">Task 3</h3>
<p>Now use only the appropriate <code>d-</code> function to compute <span class="math inline">\(P(3 \leq X &lt; 6)\)</span> for <span class="math inline">\(X\sim\text{Geom}(0.5)\)</span>. Verify that you get the same number that you got in Task 2.</p>
</section><section id="task-4" class="level3"><h3 class="anchored" data-anchor-id="task-4">Task 4</h3>
<p>Simulate <code>n = 1000</code> random numbers from the Geom(0.5) distribution and store them in a new variable called <code>x</code>. What proportion of the numbers in <code>x</code> fall into the interval <span class="math inline">\([3,\, 6)\)</span>? Is this number in the ballpark of what you got in Tasks 3 and 4?</p>
</section><section id="task-5" class="level3"><h3 class="anchored" data-anchor-id="task-5">Task 5</h3>
<p>Simulate <code>n = 5000</code> random numbers from the <span class="math inline">\(\text{N}(\pi,\,4)\)</span> distribution and store them in a new variable called <code>y</code>. Use the <code>hist</code> function with <code>freq = FALSE</code> and <code>breaks = "Scott"</code> to plot a <em>histogram</em> of these numbers.</p>
</section><section id="task-6" class="level3"><h3 class="anchored" data-anchor-id="task-6">Task 6</h3>
<p>Add on top of your histogram a line plot of the probability density function of the <span class="math inline">\(\text{N}(\pi,\,4)\)</span> distribution. Do the line plot and the histogram broadly agree?</p>
</section><section id="task-7" class="level3"><h3 class="anchored" data-anchor-id="task-7">Task 7</h3>
<p>Compute the average of the numbers that you simulated in Task 5. What is it close to?</p>
</section></section><section id="part-2-modeling-insurance-claims" class="level1"><h1>Part 2: modeling insurance claims</h1>
<p>An insurance company sells policies in the hope that most customers will not actually file a claim. In that case, the company keeps the premiums, and never actually pays out. Cha-ching. If on the other hand, every customer files a claim, then the company is ruined. They simply don’t keep enough cash on hand to literally pay out all the customers they sell policies to.</p>
<p>This is obviously a risky business. The insurance company is making a bet that most of their customers won’t need the policy that they bought, but there could be surprises. The company is fundamentally uncertain about how many people will file claims, and how big those claims will be. Faced with this uncertainty, they must make decisions about who to sell to, what to charge, and how much cash to keep on hand. To manage the uncertainty and make good decisions, insurance companies hire armies of <em>actuaries</em> to model the insurance market using the basic tools of probability and statistics that we are learning. Let’s get a taste of that.</p>
<p>Imagine the Pacific All-Risk Insurance Company makes its decisions on a monthly basis. Let <span class="math inline">\(N\in\mathbb{N}\)</span> denote the number of insurance claims the company receives in a given month. Each of those claims will be for some positive dollar amount, call it <span class="math inline">\(X_i&gt;0\)</span>. So each month, customers apply for <span class="math inline">\(S=X_1+X_2+...+X_N\)</span> in reimbursement from the insurance company. The company is not sure what <span class="math inline">\(N\)</span> will be, they are not sure how big each <span class="math inline">\(X_i\)</span> will be, and so they are not sure how big the total <span class="math inline">\(S\)</span> will be. But if it gets too big, the company is finished. We shall model the number of claims <span class="math inline">\(N\)</span> and the size of each claim <span class="math inline">\(X_i\)</span> as random variables using our familiar families.</p>
<section id="the-number-of-claims" class="level2"><h2 class="anchored" data-anchor-id="the-number-of-claims">The number of claims</h2>
<p>The random variable <span class="math inline">\(N\)</span> is discrete. It’s counting the number of claims received in a month.</p>
<section id="task-8" class="level3"><h3 class="anchored" data-anchor-id="task-8">Task 8</h3>
<p>Say that <span class="math inline">\(N\)</span> follows a Poisson distribution. The actuaries at Pacific All-Risk know that historically, the company typically receives about 100 claims per month. To capture this, how should we set the parameter(s) of the Poisson distribution?</p>
</section><section id="task-9" class="level3"><h3 class="anchored" data-anchor-id="task-9">Task 9</h3>
<p>What is the probability that <span class="math inline">\(N\)</span> is strictly within one standard deviation of its mean? In other words, what is the probability that <span class="math inline">\(N\)</span> lies in the interval <span class="math inline">\((E(N)-\text{sd}(N),\,E(N)+\text{sd}(N))\)</span>. Use the appropriate <code>p-</code> function to compute this, and pay attention to the endpoints!</p>
</section><section id="task-10" class="level3"><h3 class="anchored" data-anchor-id="task-10">Task 10</h3>
<p>What is the probability that <span class="math inline">\(N\)</span> is at or above its mean? So, <span class="math inline">\(P(N\geq E(N))\)</span>?</p>
</section></section><section id="the-size-of-a-claim" class="level2"><h2 class="anchored" data-anchor-id="the-size-of-a-claim">The size of a claim</h2>
<p>Let <span class="math inline">\(X\)</span> be the size of a single claim the company receives. <span class="math inline">\(X\)</span> is measured in units of dollars and cents, so it is most appropriate to model <span class="math inline">\(X\)</span> as a continuous random variable that only takes on positive values.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Don’t read this
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>One could argue that all random variables are discrete in practice. In financial markets for instance, there is a minimum <a href="https://en.wikipedia.org/wiki/Tick_size">tick size</a> (you can’t quote a price of $1.0000000001), and so prices fluctuate on a discrete grid. Or in general, we only ever work with numbers represented on a computer, and a computer can only store a <a href="https://en.wikipedia.org/wiki/Floating-point_arithmetic">finite number of decimals</a>. In these cases then, assuming a continuous distribution serves to clean up life.</p>
</div>
</div>
</div>
<section id="task-11" class="level3"><h3 class="anchored" data-anchor-id="task-11">Task 11</h3>
<p>The actuaries know that historically, claims are about $10,000 on average, with a standard deviation of $2,000. If we want to use the model <span class="math inline">\(X\sim\text{Gamma}(\alpha,\,\beta)\)</span>, how should we set <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> so that <span class="math inline">\(X\)</span> has the correct location and spread?</p>
</section><section id="task-12" class="level3"><h3 class="anchored" data-anchor-id="task-12">Task 12</h3>
<p>Simulate <code>n = 5000</code> random numbers from the gamma distribution. Plot a histogram of these numbers, and overlay a line plot of the density.</p>
</section><section id="task-13" class="level3"><h3 class="anchored" data-anchor-id="task-13">Task 13</h3>
<p>Verify that the sample mean and sample variance of your random numbers are close to the prescriptions from Task 11. If they are not, revisit Task 11 and adjust your choice of <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> until this works.</p>
</section><section id="task-14" class="level3"><h3 class="anchored" data-anchor-id="task-14">Task 14</h3>
<p>What is the probability <span class="math inline">\(P(X &gt; 15,000)\)</span>? Calculate this probability exactly using the appropriate <code>p-</code> function, and also approximate it using your random numbers. Verify that the two numbers are close.</p>
</section></section><section id="the-bottom-line" class="level2"><h2 class="anchored" data-anchor-id="the-bottom-line">The bottom line</h2>
<p>The number that the insurance company truly cares about is <span class="math inline">\(S=X_1+X_2+...+X_N\)</span>, the total amount of money they are on the hook for that month. <span class="math inline">\(S\)</span> is a random variable, and it inherits its randomness both from <span class="math inline">\(N\)</span> and from each <span class="math inline">\(X_i\)</span>. To keep things simple, we will assume that <span class="math inline">\(N\)</span> and the <span class="math inline">\(X_i\)</span> are <em>independent</em>, meaning their outcomes don’t influence one another. This is mathematically convenient, but it’s a lousy assumption in terms of realism. Are all of the insurance claims coming out of southern California recently totally unrelated to one another? I think not. But we don’t yet possess the tools to handle this, so we assume independence.</p>
<section id="task-15" class="level3"><h3 class="anchored" data-anchor-id="task-15">Task 15</h3>
<p>Write a function that simulates <span class="math inline">\(S\)</span>. So your function should spit out a single number, generated in the following way:</p>
<ol type="1">
<li>Simulate <span class="math inline">\(N\)</span>;</li>
<li>Given the result of Step 1, simulate independent <span class="math inline">\(X_1\)</span>, <span class="math inline">\(X_2\)</span>, …, <span class="math inline">\(X_N\)</span>;</li>
<li>Given the result of Step 2, return <span class="math inline">\(S=X_1+X_2+...+X_N\)</span>.</li>
</ol></section><section id="task-16" class="level3"><h3 class="anchored" data-anchor-id="task-16">Task 16</h3>
<p>Using the function you wrote in the previous task, simulate <span class="math inline">\(n=5000\)</span> possible values for the random variable <span class="math inline">\(S\)</span> and plot a histogram of them.</p>
</section><section id="task-17" class="level3"><h3 class="anchored" data-anchor-id="task-17">Task 17</h3>
<p>Use your simulations to approximate the probability <span class="math inline">\(P(S&gt;1,300,00)\)</span>.</p>
</section><section id="task-18" class="level3"><h3 class="anchored" data-anchor-id="task-18">Task 18</h3>
<p>Compute the sample mean and the sample variance of your simulations. Based on these, can you conjecture how the parameters of the underlying <span class="math inline">\(\text{Poisson}(\lambda)\)</span> and <span class="math inline">\(\text{Gamma}(\alpha,\,\beta)\)</span> distributions are related to <span class="math inline">\(E(S)\)</span> and <span class="math inline">\(\text{var}(S)\)</span>? That is, propose formulas <span class="math inline">\(E(S)=h(\lambda,\,\alpha,\,\beta)\)</span> and <span class="math inline">\(\text{var}(S)=g(\lambda,\,\alpha,\,\beta)\)</span> that describe how the underlying Poisson and gamma parameters determine the moments of <span class="math inline">\(S\)</span>.</p>
</section></section></section><section id="part-3-the-only-important-part" class="level1"><h1>Part 3: the only important part</h1>
<section id="task-infty" class="level3"><h3 class="anchored" data-anchor-id="task-infty">Task <span class="math inline">\(\infty\)</span>
</h3>
<p>Go watch <a href="https://en.wikipedia.org/wiki/Double_Indemnity"><em>Double Indemnity</em></a>. It is so entertaining it will make your head spin.</p>


</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/sta240-s25\.github\.io\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../exams/midterm-1.html" class="pagination-link" aria-label="Midterm 1 Practice">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Midterm 1 Practice</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../labs/lab-5.html" class="pagination-link" aria-label="Lab 5">
        <span class="nav-page-text">Lab 5</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2025 John Zito</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This page is built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>


</body></html>